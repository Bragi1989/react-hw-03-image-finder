{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\react-hw-03-image-finder\\\\src\\\\components\\\\App.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\nimport Loader from './Loader';\nimport Modal from './Modal';\nimport css from './App.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchImages = async (query, page) => {\n      if (!query) return;\n      try {\n        this.setState({\n          isLoading: true\n        });\n        const response = await axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=39495070-5ff071e483d3b47d3211eb1ad`);\n        const newImages = response.data.hits;\n        this.setState(prevState => ({\n          images: [...prevState.images, ...newImages]\n        }));\n      } catch (error) {\n        console.error('Error fetching images:', error);\n      } finally {\n        this.setState({\n          isLoading: false\n        });\n      }\n    };\n    this.handleSearchSubmit = newQuery => {\n      const {\n        query\n      } = this.state;\n      if (newQuery !== query) {\n        this.setState({\n          query: newQuery,\n          page: 1,\n          images: [],\n          visibleCount: 12\n        });\n      }\n    };\n    this.handleLoadMore = () => {\n      this.setState(prevState => ({\n        page: prevState.page + 1,\n        visibleCount: prevState.visibleCount + 12\n      }));\n    };\n    this.handleImageClick = largeImageUrl => {\n      this.setState({\n        modalImage: largeImageUrl\n      });\n    };\n    this.handleCloseModal = () => {\n      this.setState({\n        modalImage: null\n      });\n    };\n    this.state = {\n      query: '',\n      images: [],\n      page: 1,\n      isLoading: false,\n      modalImage: null,\n      visibleCount: 12\n    };\n  }\n  componentDidMount() {\n    const {\n      query,\n      page\n    } = this.state;\n    if (query) {\n      this.fetchImages(query, page);\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      query,\n      page\n    } = this.state;\n    if (query !== prevState.query || page !== prevState.page) {\n      this.fetchImages(query, page);\n    }\n  }\n  render() {\n    const {\n      query,\n      images,\n      isLoading,\n      modalImage,\n      visibleCount\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css.container,\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handleSearchSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: images,\n        onImageClick: this.handleImageClick,\n        visibleCount: visibleCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), images.length > 0 && !isLoading && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handleLoadMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 45\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }, this), modalImage && /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: !!modalImage,\n        onClose: this.handleCloseModal,\n        imageUrl: modalImage,\n        className: css.modal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","axios","Searchbar","ImageGallery","Button","Loader","Modal","css","jsxDEV","_jsxDEV","App","constructor","props","fetchImages","query","page","setState","isLoading","response","get","newImages","data","hits","prevState","images","error","console","handleSearchSubmit","newQuery","state","visibleCount","handleLoadMore","handleImageClick","largeImageUrl","modalImage","handleCloseModal","componentDidMount","componentDidUpdate","prevProps","render","className","container","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","onImageClick","length","onClick","isOpen","onClose","imageUrl","modal"],"sources":["D:/GitHub/react-hw-03-image-finder/src/components/App.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Searchbar from './Searchbar';\r\nimport ImageGallery from './ImageGallery';\r\nimport Button from './Button';\r\nimport Loader from './Loader';\r\nimport Modal from './Modal';\r\nimport css from './App.module.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      query: '',\r\n      images: [],\r\n      page: 1,\r\n      isLoading: false,\r\n      modalImage: null,\r\n      visibleCount: 12,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { query, page } = this.state;\r\n    if (query) {\r\n      this.fetchImages(query, page);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n\r\n    if (query !== prevState.query || page !== prevState.page) {\r\n      this.fetchImages(query, page);\r\n    }\r\n  }\r\n\r\n  fetchImages = async (query, page) => {\r\n    if (!query) return;\r\n\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      const response = await axios.get(\r\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=39495070-5ff071e483d3b47d3211eb1ad`\r\n      );\r\n\r\n      const newImages = response.data.hits;\r\n\r\n      this.setState((prevState) => ({\r\n        images: [...prevState.images, ...newImages],\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error fetching images:', error);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  handleSearchSubmit = (newQuery) => {\r\n    const { query } = this.state;\r\n\r\n    if (newQuery !== query) {\r\n      this.setState({\r\n        query: newQuery,\r\n        page: 1,\r\n        images: [],\r\n        visibleCount: 12,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n      visibleCount: prevState.visibleCount + 12,\r\n    }));\r\n  };\r\n\r\n  handleImageClick = (largeImageUrl) => {\r\n    this.setState({ modalImage: largeImageUrl });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render() {\r\n    const { query, images, isLoading, modalImage, visibleCount } = this.state;\r\n\r\n    return (\r\n      <div className={css.container}>\r\n        <Searchbar onSubmit={this.handleSearchSubmit} />\r\n        <ImageGallery images={images} onImageClick={this.handleImageClick} visibleCount={visibleCount} />\r\n        {images.length > 0 && !isLoading && <Button onClick={this.handleLoadMore} />}\r\n        {isLoading && <Loader />}\r\n        {modalImage && (\r\n          <Modal isOpen={!!modalImage} onClose={this.handleCloseModal} imageUrl={modalImage} className={css.modal} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}